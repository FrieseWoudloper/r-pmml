<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add Output nodes to a PMML object. — add_output_field • pmml</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add Output nodes to a PMML object. — add_output_field" />
<meta property="og:description" content="Add Output nodes to a PMML object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmml</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/packages_and_functions.html">Supported Packages and Additional Functions</a>
    </li>
    <li>
      <a href="../articles/xform_function.html">Introduction to xform_function</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SoftwareAG/r-pmml/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add Output nodes to a PMML object.</h1>
    <small class="dont-index">Source: <a href='https://github.com/SoftwareAG/r-pmml/blob/master/R/add_output_field.R'><code>R/add_output_field.R</code></a></small>
    <div class="hidden name"><code>add_output_field.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add Output nodes to a PMML object.</p>
    </div>

    <pre class="usage"><span class='fu'>add_output_field</span>(
  <span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>outputNodes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>at</span> <span class='kw'>=</span> <span class='st'>"End"</span>,
  <span class='kw'>xformText</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nodeName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>whichOutput</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>namespace</span> <span class='kw'>=</span> <span class='st'>"4_4"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>xml_model</th>
      <td><p>The PMML model to which the OutputField elements are to be added</p></td>
    </tr>
    <tr>
      <th>outputNodes</th>
      <td><p>The Output nodes to be added. These may be created using the
'make_output_nodes' helper function</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>Given an Output element, the 1 based index after which the given Output
child element should be inserted at</p></td>
    </tr>
    <tr>
      <th>xformText</th>
      <td><p>Post-processing information to be included in the OutputField element.
This expression will be processed by the function_to_pmml function</p></td>
    </tr>
    <tr>
      <th>nodeName</th>
      <td><p>The name of the element to be added</p></td>
    </tr>
    <tr>
      <th>attributes</th>
      <td><p>The attributes to be added</p></td>
    </tr>
    <tr>
      <th>whichOutput</th>
      <td><p>The index of the Output element</p></td>
    </tr>
    <tr>
      <th>namespace</th>
      <td><p>The namespace of the PMML model</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Output node with the OutputField elements inserted.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is meant to add any post-processing information to an existing model via
the OutputField element. One can also use this to tell the PMML model to output other values
not automatically added to the model output.
  The first method is to use the 'make_output_nodes' helper function to make a list of output
elements to be added. 'whichOutput' lets the function know which of the Output elements we want to
work with; there may be more than one in a multiple model file. One can then add those elements there,
at the desired index given by the 'at' parameter; the elements are inserted after the OutputField
element at the 'at' index. In other words, find the 'whichOutput' Output element, add the 'outputNodes'
child elements (which should be OutputField nodes) at the 'at' position in the child nodes.
  This function can also be used with the 'nodeName' and 'attributes' to add the list of attributes to
an OutputField element with name 'nodeName' element using the 'xml_model', 'outputNodes' and 'at' parameters.
  Finally, one can use this to add the transformation expression given by the 'xformText' parameter
to the node with name 'nodeName'. The string given via 'xformText' is converted to an XML expression similarly
to the function_to_pmml function. In other words, find the OutputField node with the name 'nodeName' and add
the list of attributes given with 'attributes' and also, add the child transformations given in the 'xformText'
parameter.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Load the standard iris dataset</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>iris</span>)

<span class='co'># Create a linear model and convert it to PMML</span>
<span class='no'>mod</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>Sepal.Length</span> ~ <span class='no'>.</span>, <span class='no'>iris</span>)
<span class='no'>pmod</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pmml.html'>pmml</a></span>(<span class='no'>mod</span>)

<span class='co'># Create additional output nodes</span>
<span class='no'>onodes0</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_output_nodes.html'>make_output_nodes</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"OutputField"</span>, <span class='st'>"OutputField"</span>),
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"dbl"</span>,
    <span class='kw'>optype</span> <span class='kw'>=</span> <span class='st'>"continuous"</span>
  ), <span class='kw'>NULL</span>),
  <span class='kw'>expression</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"ln(x)"</span>, <span class='st'>"ln(x/(1-x))"</span>)
)
<span class='no'>onodes2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_output_nodes.html'>make_output_nodes</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"OutputField"</span>, <span class='st'>"OutputField"</span>),
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
      <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"F1"</span>,
      <span class='kw'>dataType</span> <span class='kw'>=</span> <span class='st'>"double"</span>, <span class='kw'>optype</span> <span class='kw'>=</span> <span class='st'>"continuous"</span>
    ),
    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"F2"</span>)
  )
)

<span class='co'># Create new pmml objects with the output nodes appended</span>
<span class='no'>pmod2</span> <span class='kw'>&lt;-</span> <span class='fu'>add_output_field</span>(
  <span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='no'>pmod</span>, <span class='kw'>outputNodes</span> <span class='kw'>=</span> <span class='no'>onodes2</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='st'>"End"</span>,
  <span class='kw'>xformText</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nodeName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>whichOutput</span> <span class='kw'>=</span> <span class='fl'>1</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: OutputField given, childNode and attributes ignored.</span></div><div class='input'><span class='no'>pmod2</span> <span class='kw'>&lt;-</span> <span class='fu'>add_output_field</span>(
  <span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='no'>pmod</span>, <span class='kw'>outputNodes</span> <span class='kw'>=</span> <span class='no'>onodes0</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='st'>"End"</span>,
  <span class='kw'>xformText</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nodeName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>whichOutput</span> <span class='kw'>=</span> <span class='fl'>1</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: OutputField given, childNode and attributes ignored.</span></div><div class='input'>
<span class='co'># Create nodes with attributes and transformations</span>
<span class='no'>pmod3</span> <span class='kw'>&lt;-</span> <span class='fu'>add_output_field</span>(<span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='no'>pmod2</span>, <span class='kw'>outputNodes</span> <span class='kw'>=</span> <span class='no'>onodes2</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: OutputField given, childNode and attributes ignored.</span></div><div class='input'><span class='no'>pmod4</span> <span class='kw'>&lt;-</span> <span class='fu'>add_output_field</span>(
  <span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='no'>pmod2</span>, <span class='kw'>xformText</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"exp(x) &amp;&amp; !x"</span>),
  <span class='kw'>nodeName</span> <span class='kw'>=</span> <span class='st'>"Predicted_Sepal.Length"</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: childNode will be added. outputNode and attributes will be ignored.</span></div><div class='input'>
<span class='no'>att</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>datype</span> <span class='kw'>=</span> <span class='st'>"dbl"</span>, <span class='kw'>optpe</span> <span class='kw'>=</span> <span class='st'>"dsc"</span>)
<span class='no'>pmod5</span> <span class='kw'>&lt;-</span> <span class='fu'>add_output_field</span>(
  <span class='kw'>xml_model</span> <span class='kw'>=</span> <span class='no'>pmod2</span>, <span class='kw'>nodeName</span> <span class='kw'>=</span> <span class='st'>"Predicted_Sepal.Length"</span>,
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='no'>att</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: attributes given, outputNode and childNode will be ignored</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dmitriy Bolotov, Tridivesh Jena, Graham Williams, Wen-Ching Lin, Michael Hahsler, Hemant Ishwaran, Udaya B. Kogalur, Rajarshi Guha.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


